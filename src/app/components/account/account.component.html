<section class="sections pt-50">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-6">
                <h1 class="fw-bold text-yellow ">{{'account.personal_data' | translate}}</h1>
                <!-- <P class="text-white mt-4">Lorem Ipsum is simply dummy text of the printing
                    and typesetting industry. Lorem Ipsum has been
                    the industry's standard dummy text ever since
                    the 1500s, when an unknown printer took a
                    galley of type and scrambled it to make a type
                    specimen book.</P> -->
            </div>
            <div class="col-md-6">
                <img src="assets/images/account_img.png" class="mw-100">
            </div>
        </div>
    </div>
</section>
<section class="sections mb-5">
    <div class="container pb-5">
        <div class="row">
            <div class="col-md-6">
                <h4 class="text-yellow mb-4 mt-md-0 mt-5">{{'account.personal_data' | translate}}</h4>
                <div class="card">
                    <div class="card-body">
                        <form class="cardform">
                            <div class="row">
                                <div class="col-md-2">
                                    <label class="text-white">Name</label>
                                </div>
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <input type="text" class="form-control" name="name" [(ngModel)]="profile.firstName" />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-2">
                                    <label class="text-white">{{'register.surname' | translate}}</label>
                                </div>
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <input type="text" class="form-control" name="surname" [(ngModel)]="profile.lastName" />
                                    </div>
                                </div>
                            </div>
                            <!-- <div class="row">
                                <div class="col-md-2">
                                    <label class="text-white">Email</label>
                                </div>
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <input type="email" class="form-control" name="email" />
                                    </div>
                                </div>
                            </div> -->
                            <div class="row">
                                <div class="col-md-2">
                                    <label class="text-white">{{'register.phone' | translate}}</label>
                                </div>
                                <div class="col-md-10">
                                    <div class="form-group">
                                        <input type="text" class="form-control" name="phone" [(ngModel)]="profile.phone" />
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <h4 class="text-yellow mb-4 mt-md-0 mt-5">{{'account.personal_data' | translate}}</h4>
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex">
                            <div class="flex-grow-1 text-white">
                                <label>{{'account.copy_passport' | translate}}</label><br />
                                <small class="text-muted d-block">{{'account.upload_file' | translate}}</small>
                                <p *ngIf="!profile.files[0]; else plink">{{'account.copy_passport_not' | translate}}</p>
                                <ng-template #plink>
                                    <a class="white" [href]="profile.files[0]" target="_blank">{{'account.copy_passport' | translate}}</a>
                                </ng-template>
                            </div>
                            <div>
                                <input type="file" id="passport-file" style="display:none" (change)="uploadFile($event, 'passport')">

                                <button class="btn btn-outline-upload" style="text-transform: uppercase;" (click)="openDialog('passport')">{{'account.upload' | translate}}</button>
                            </div>
                        </div>
                    </div>
                    <hr class="text-white my-0" />
                    <div class="card-body">
                        <div class="d-flex">
                            <div class="flex-grow-1 text-white">
                                <label>{{'account.verification' | translate}}</label><br />
                                <small class="text-muted d-block">{{'account.upload_file' | translate}}</small>
                                <p *ngIf="!profile.files[1]; else vlink">{{'account.copy_passport_not' | translate}}</p>
                                <ng-template #vlink>
                                    <a class="white" [href]="profile.files[1]" target="_blank">{{'account.copy_veri' | translate}}</a>
                                </ng-template>
                            </div>
                            <div>
                                <input type="file" id="verification-file" style="display:none" (change)="uploadFile($event, 'verification')">
                                <button class="btn btn-outline-upload" (click)="openDialog('verification')" style="text-transform: uppercase;">{{'account.upload' | translate}}</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="text-center col-12 mt-4 mb-5">
                <button class="btn btn-yellow" (click)="save()" style="text-transform: uppercase;">{{'account.save' | translate}}</button>
            </div>


            <div class="col-md-6">
                <h4 class="text-yellow mb-4 mt-md-0 mt-5">{{'account.change_pass' | translate}}</h4>
                <div class="card">
                    <div class="card-body">
                        <form class="cardform">
                            <div class="row">
                                <div class="col-md-3">
                                    <label class="text-white">{{'account.current_pass' | translate}}</label>
                                </div>
                                <div class="col-md-9">
                                    <div class="form-group">
                                        <input type="password" class="form-control" name="name" [(ngModel)]="passwords.currentPassword" />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    <label class="text-white">{{'account.new_pass' | translate}}</label>
                                </div>
                                <div class="col-md-9">
                                    <div class="form-group">
                                        <input type="password" class="form-control" name="name" [(ngModel)]="passwords.password" />
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    <label class="text-white">{{'account.current_pass' | translate}}</label>
                                </div>
                                <div class="col-md-9">
                                    <div class="form-group">
                                        <input type="text" class="form-control" name="name" [(ngModel)]="passwords.confirmPassword" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 text-center neg-btm-40  mt-3">
                                <button class="btn btn-yellow" (click)="changePassword()" style="text-transform: uppercase;">{{'account.save' | translate}}</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- <div class="col-md-6">
                <h4 class="text-yellow mb-4 mt-md-0 mt-5">Change Password</h4>
                <div class="card">
                    <div class="card-body">
                        <form class="cardform">
                            <div class="row">
                                <div class="col-md-3">
                                    <label class="text-white">Choose Kind</label>
                                </div>
                                <div class="col-md-9">
                                    <div class="form-group">
                                        <select class="form-control">
                                            <option>None</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 text-center neg-btm-40 mt-3">
                                <button class="btn btn-yellow">SAVE DETAILS</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div> -->
            <div class="col-md-12">
                <div class="card mt-5">
                    <div class="header-card p-md-4 p-3">
                        <h4 class="text-yellow mb-0 text-center">{{'purchase.purchase_history' | translate}}</h4>
                    </div>
                    <div class="p-3 bg-white" >
                        <div *ngIf="packages?.length">
                            <table class="table">
                                <thead>
                                  <tr>
                                    <th scope="col">Status</th>
                                    <th scope="col">Name</th>
                                    <th scope="col">{{'account.price' | translate}}</th>
                                    <th scope="col">{{'account.contract_year' | translate}}</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr *ngFor="let package of packages | paginate: { itemsPerPage: 10, currentPage: page }">
                                    <th scope="row">{{package.status}}</th>
                                    <td>{{package?.package?.name}}</td>
                                    <td>{{package?.package?.discountedPrice}}</td>
                                    <td>{{package?.package?.contractYear}}</td>
                                  </tr>
                                  
                                </tbody>
                              </table>
                              <pagination-controls (pageChange)="getMyPackages($event)"></pagination-controls>

                        </div>
                        <h4 class="text-muted text-center py-5" *ngIf="!packages?.length">{{'account.no_purchase_his' | translate}}</h4>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
